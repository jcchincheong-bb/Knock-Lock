
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{labreport}[2025/02/01 Custom Lab Report Style]

% ------------ Packages ------------
\RequirePackage[utf8]{inputenc}
\RequirePackage{graphicx}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{listings}
\RequirePackage{hyperref} % For hyperlinks in the document
\RequirePackage{geometry} % For setting page dimensions
\RequirePackage{xcolor} % For color definitions
\RequirePackage{fancyhdr} % For custom headers and footers
\RequirePackage{titlesec} % For customizing section titles
\RequirePackage{eurosym} % Euro symbol
\RequirePackage[justification=raggedright,singlelinecheck=false]{caption}
% \RequirePackage[none]{hyphenat}
\RequirePackage[document]{ragged2e}
\RequirePackage{subcaption}
\RequirePackage[table]{xcolor}
\RequirePackage{apacite} % APA citation style
\RequirePackage{accsupp}
\RequirePackage{float}

% Document geometry
\geometry{margin=1in}

% ------------ Colours ------------
\definecolor{preprocbrown}{rgb}{0.537, 0.251, 0.027} % Preprocessor keyword color - new added 30.04.25
\definecolor{c-red}{rgb}{0.6,0,0} % for strings
\definecolor{c-blue}{rgb}{0,0,0.6}
\definecolor{c-green}{rgb}{0,0.8,0}
\definecolor{c-cyan}{rgb}{0.0,0.6,0.6}

% ------------ User Variables ------------
\newcommand{\authA}{}
\newcommand{\matnumA}{}
\newcommand{\authB}{}
\newcommand{\matnumB}{}
\newcommand{\project}{}

% ------------ Paths --------------------
\graphicspath{{assets/}}


% ------------ Global Style ------------
\setlength{\parindent}{0pt}

% ------------ Footer Setup ------------
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{\textcolor{gray}{\authA\ \matnumA} \\ \textcolor{gray}{\authB\ \matnumB} }
\fancyfoot[R]{\thepage}
\renewcommand{\headrulewidth}{0pt}

\fancypagestyle{plain}{  % For the chapter starting page
    \fancyhf{} % clear
    \fancyfoot[L]{\textcolor{gray}{\authA\ \matnumA} \\ \textcolor{gray}{\authB\ \matnumB} }
    \fancyfoot[R]{\thepage}
    \renewcommand{\headrulewidth}{0pt}
}


% ------------ Captions ------------
\captionsetup{
    font={small,it},
    labelsep=colon
}

% ------------ Subsection Style ------------
%\titleformat{\subsubsection}{\normalfont}{}{0pt}{\underline}{\textbf}
% I dont really like the underlined version - Abhinav
% ------------ Code Listing Style ------------
\lstset{
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny,
    keywordstyle=\color{blue},
    commentstyle=\color{green},
    stringstyle=\color{red},
    showstringspaces=false,
    tabsize=2,
    captionpos=b
}

% --- DEFINE JAVASCRIPT ---
\lstdefinelanguage{JavaScript}{
  keywords={break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, void, while, with, parseInt, length, map, join, slice, toString},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]"
}

% --- SET STYLE ---
\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{white},
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue}\bfseries,
    stringstyle=\color{red},
    commentstyle=\color{green!50!black},
    showstringspaces=false,
    breaklines=true,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
}

% \lstset{
%     language=C++, % choose the language of the code
%     basicstyle=\footnotesize\ttfamily,
%     columns=flexible,
%     numbers=left, % where to put the line-numbers
%     stepnumber=1, % the step between two line-numbers.
%     numbersep=5pt, % how far the line-numbers are from the code
%     numberstyle=\tiny\color{gray}\emptyaccsupp,
%     backgroundcolor=\color{white}, % choose the background color. You must add \usepackage{color}
%     showspaces=false, % show spaces adding particular underscores
%     showstringspaces=false, % underline spaces within strings
%     showtabs=false, % show tabs within strings adding particular underscores
%     extendedchars=false,
%     escapeinside={<@}{@>},
%     upquote=true,
%     tabsize=4, % sets default tabsize to 4 spaces
%     extendedchars=false,
%     captionpos=b, % sets the caption-position to bottom
%     breaklines=true,
%     stringstyle=\color{c-blue}\ttfamily,
%     commentstyle=\color{c-green},
%     morecomment=[l]{//}, % use comment-line-style!
%     morecomment=[s]{/*}{*/}, % for multiline comments
%     keywordstyle=\color{blue}\bfseries, % Blue, bold keywords - new 22.04.25
%     %commentstyle=\color{green!40!black}, % Green comments - new 22.04.25
%     stringstyle=\color{red}, % Red strings - new 22.04.25
%     morekeywords={
%         DDRB, DDRC, DDRD, PORTB, PORTC, PORTD, PINB, PINC, PIND,
%         null, switch, extern, bool, false, true, byte, try, case, float, typeof,
%         catch, for, private, uint, char, foreach, protected, ulong, checked,
%         goto, public, unchecked, class, if, readonly, unsafe, const, implicit,
%         ref, ushort, continue, in, return, using, decimal, int, sbyte, virtual,
%         default, interface, sealed, volatile, delegate, internal, short, void,
%         do, is, sizeof, while, double, lock, stackalloc, else, long, static,
%         enum, namespace, string, HIGH, LOW, INPUT, INPUT_PULLUP, OUTPUT, DEC,
%         BIN, HEX, OCT, PI, HALF_PI, TWO_PI, LSBFIRST, MSBFIRST, CHANGE,
%         FALLING, RISING, DEFAULT, EXTERNAL, INTERNAL, INTERNAL1V1,
%         INTERNAL2V56, LED_BUILTIN, LED_BUILTIN_RX, LED_BUILTIN_TX,
%         DIGITAL_MESSAGE, FIRMATA_STRING, ANALOG_MESSAGE, REPORT_DIGITAL,
%         REPORT_ANALOG, SET_PIN_MODE, SYSTEM_RESET, SYSEX_START, auto, int8_t,
%         int16_t, int32_t, int64_t, uint8_t, uint16_t, uint32_t, uint64_t,
%         char16_t, char32_t, operator, enum, delete, bool, boolean, byte, char,
%         const, false, float, double, null, NULL, int, long, new, private,
%         protected, public, short, signed, static, volatile, String, void, true,
%         unsigned, word, array, sizeof, dynamic_cast, typedef, const_cast,
%         struct, static_cast, union, friend, extern, class, reinterpret_cast,
%         register, explicit, inline, _Bool, complex, _Complex, _Imaginary,
%         atomic_bool, atomic_char, atomic_schar, atomic_uchar, atomic_short,
%         atomic_ushort, atomic_int, atomic_uint, atomic_long, atomic_ulong,
%         atomic_llong, atomic_ullong, virtual, PROGMEM, PORTA1, PORTA2, PORTA3,
%         PORTA, PORTF,
%     },
%     frame=single, % Frame around the code - new 22.04.25
%     keywordstyle=\color{c-cyan},
%     identifierstyle=\color{c-red},
%     % literate={\ }{{\copyablespace}}1 {\ \ }{{\copyablespaceTwo}}1,
%     emph={define, include, ifdef, ifndef, endif, undef, pragma}, % keywords to color - new added 30.04.25
%     emphstyle=\color{preprocbrown}, % the color to give - new added 30.04.25
%     literate={\#}{{{\color{preprocbrown}\#}}}1, % Color for the '#' symbol - new added 30.04.25
% }

% ------------ Command Definitions ------------
\newcommand{\cmd}[1]{\colorbox{gray!20}{\texttt{\detokenize{#1}}}}
\newcommand{\emptyaccsupp}[1]{\BeginAccSupp{ActualText={}}#1\EndAccSupp{}}

% ------------ End ------------